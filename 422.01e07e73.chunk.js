"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[422],{422:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var s=n(294),o=n(953),a=n(730),c=n(767),i=n(477),r=n(882),l=n(593),u=n(434);const f=new i.Vector3,m=new i.Vector3,p=new i.Vector3;function d(){const e=(0,r.L)("./assets/city.gltf"),t=(0,r.L)("./assets/car.glb");var n;return n=t.scene,(0,u.A)((e=>{let{camera:t}=e;const s=navigator.getGamepads();for(const e of s){if(null===e)continue;if(!e.connected)continue;const[s,o]=e.buttons,[a,c]=e.axes;if(0!==a||0!==c){const e=(i.MathUtils.radToDeg(Math.atan2(c,a))+360-90)%360;n.rotation.y=i.MathUtils.degToRad(-1*e)}n.getWorldPosition(f),p.set(0,0,s.pressed?1:o.pressed?-1:0),n.translateZ(p.multiplyScalar(.05).z),n.getWorldPosition(m);const r=m.clone().sub(f);t.lookAt(n.position),t.position.add(r)}})),s.useEffect((()=>{const t=(new i.Box3).setFromObject(e.scene).getCenter(new i.Vector3);e.scene.position.x+=e.scene.position.x-t.x,e.scene.position.y+=e.scene.position.y-t.y,e.scene.position.z+=e.scene.position.z-t.z,e.scene.position.y+=1.35,e.scene.traverse((e=>{e instanceof i.Mesh&&e.material instanceof i.MeshStandardMaterial&&(e.material.envMapIntensity=.6)}))}),[e.scene]),s.createElement(s.Fragment,null,s.createElement(l.qA,{files:"./assets/environment.hdr"}),s.createElement("primitive",{object:e.scene,scale:.01}),s.createElement("primitive",{object:t.scene,"rotation-y":i.MathUtils.degToRad(180),scale:.75}))}function g(){return s.createElement(o.Xz,{flat:!0,linear:!0,legacy:!0},s.createElement(a.z,{makeDefault:!0}),s.createElement(c.c,{makeDefault:!0,position:[0,5,10]}),s.createElement(d,null))}function h(){return s.createElement(g,null)}}}]);
//# sourceMappingURL=422.01e07e73.chunk.js.map